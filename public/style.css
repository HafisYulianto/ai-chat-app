/* ====== Layout & scroll ====== */
#chatContainer {
  max-height: calc(100vh - 140px);
  scroll-behavior: smooth;
}

/* ====== Bubbles ====== */
.bubble {
  max-width: 80%;
  border-radius: 1rem;
  padding: .75rem .9rem;
  position: relative;
  box-shadow: 0 1px 0 rgba(0,0,0,.04);
  word-wrap: break-word;
}
.bubble-user {
  background: linear-gradient(180deg, #14b8a6, #0ea5e9);
  color: #fff;
}
.bubble-ai {
  background: #f3f4f6; /* gray-100 */
  color: #111827;      /* gray-900 */
}
.dark .bubble-ai {
  background: #1f2937; /* gray-800 */
  color: #e5e7eb;      /* gray-200 */
}

/* Timestamp kecil */
.bubble .time {
  display: block;
  margin-top: .35rem;
  font-size: .7rem;
  opacity: .7;
}

/* ====== Buttons (tanpa @apply supaya tak perlu build Tailwind) ====== */
.btn-primary {
  border-radius: 0.75rem;
  padding: 0.5rem 1rem;
  background-color: #0d9488; /* teal-600 */
  color: #fff;
  transition: background-color .15s ease;
  font-weight: 600;
}
.btn-primary:hover { background-color: #0f766e; } /* teal-700 */
.btn-primary:disabled { opacity: .6; cursor: not-allowed; }

.btn-subtle {
  border-radius: .5rem;
  padding: .375rem .75rem;
  border: 1px solid #d1d5db; /* gray-300 */
  background: transparent;
  font-size: .9rem;
  transition: background-color .15s ease, border-color .15s ease;
}
.btn-subtle:hover { background: #f3f4f6; }
.dark .btn-subtle { border-color: #374151; }
.dark .btn-subtle:hover { background: #1f2937; }

.btn-icon {
  border-radius: .5rem;
  padding: .5rem;
  border: 1px solid #d1d5db;
  background: transparent;
  transition: background-color .15s ease, border-color .15s ease;
}
.btn-icon:hover { background: #f3f4f6; }
.dark .btn-icon { border-color: #374151; }
.dark .btn-icon:hover { background: #1f2937; }

/* ====== Typing indicator ====== */
.typing-dots {
  display: inline-flex;
  gap: .35rem;
  align-items: center;
}
.typing-dots span {
  width: .4rem; height: .4rem;
  border-radius: 999px;
  background: #6b7280; /* gray-500 */
  display: inline-block;
  animation: blink 1s infinite ease-in-out;
}
.typing-dots span:nth-child(2) { animation-delay: .15s; }
.typing-dots span:nth-child(3) { animation-delay: .3s; }

@keyframes blink {
  0%, 80%, 100% { opacity: .2; transform: translateY(0); }
  40% { opacity: 1; transform: translateY(-2px); }
}

/* Mobile keyboard safe area */
@supports (padding: max(0px)) {
  footer form { padding-bottom: max(env(safe-area-inset-bottom), 12px); }
}

@keyframes bubbleIn {
  from { opacity: 0; transform: translateY(20px) scale(0.95);}
  to   { opacity: 1; transform: translateY(0) scale(1);}
}
.bubble-animate {
  animation: bubbleIn 0.25s cubic-bezier(.4,0,.2,1);
}
